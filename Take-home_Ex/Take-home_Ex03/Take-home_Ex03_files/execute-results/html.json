{
  "hash": "5cc27b4b31ca35a9395e019b0dd702c7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 3: NKDE\"\nexecute:\n  echo: true\n  eval: true\n  freeze: auto\n  error: false\n---\n\n\n# Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf,tidyverse,spNetwork,tmap,classInt, viridis)\n```\n:::\n\n\n# Import data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrime_data <- read_rds(\"../../data/proj_data/rds/accidents_thai.rds\") %>% \n  st_transform(crs = 4240)\nthai_bound <- st_read(dsn = \"../../data/proj_data/thai_adm_boundary\",\n                      layer = \"tha_admbnda_adm1_rtsd_20220121\") %>% \n  st_transform(crs = 4240)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `tha_admbnda_adm1_rtsd_20220121' from data source \n  `/Users/tangtang/Desktop/IS415 Geospatial Analytics and Applications/practice/is415gaa/data/proj_data/thai_adm_boundary' \n  using driver `ESRI Shapefile'\nSimple feature collection with 77 features and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 97.34336 ymin: 5.613038 xmax: 105.637 ymax: 20.46507\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n# thai_bound <- read_rds(\"../../data/proj_data/rds/thai_boundary.rds\")\nthai_road <- read_rds(\"../../data/proj_data/rds/thai_roads.rds\") %>% \n  st_transform(crs = 4240)\n```\n:::\n\n\n# Visualising difference in network constrained kernel density through different filters by columns\n\nSome potential filtering to apply to dataset to allow user to zoom in into specific area he/she is interested in:\n\n-   Accident categories\n\n-   Fatal accident \\[yes/no\\]\n\n-   Province (MUST-HAVE)\n\nBut let's visualised the overall look\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(crime_data)\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex03_files/figure-html/unnamed-chunk-3-1.png){width=1152}\n:::\n:::\n\n\nExample: filter by province = \"Bangkok\", accident_categories = \"speeding\", fatal_accident == \"yes\" (Allowing users to change freely)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprovince_factor = \"Bangkok\"\naccident_category = \"speeding\"\nfatal = \"yes\"\n\ncrime_data_filtered = crime_data %>% \n  filter(province_en == province_factor,\n         accident_categories == accident_category,\n         fatal_accident == fatal)\n```\n:::\n\n\n# Network-constrained Kernel Density Estimation\n\n### Get the portion of road network for the selected province\n\n\n::: {.cell}\n\n```{.r .cell-code}\nthai_prov <- filter(thai_bound, ADM1_EN == province_factor)\nroad_prov <- st_intersection(thai_road, thai_prov)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n\n\n:::\n\n```{.r .cell-code}\nroad_prov_sf <- st_cast(road_prov, \"LINESTRING\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n\nWarning in st_cast.MULTILINESTRING(X[[i]], ...): keeping first linestring only\n```\n\n\n:::\n:::\n\n\n## Prepare `lixel` object\n\n1st try with 1000m diameter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlixels <- lixelize_lines(road_prov_sf,lx_length = 1000,mindist = 500)\n```\n:::\n\n\n## Generate line centre points\n\nLikely to allow adjustment of kernel type, bandwidth set to be equivalent to `mindist` of lixels\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# samples <- lines_center(lixels)\n# densities <- nkde(road_prov_sf,\n#                   events = crime_data_filtered,\n#                   w = rep(1, nrow(crime_data_filtered)),\n#                   samples = samples,\n#                   ## important\n#                   kernel_name = \"quartic\",\n#                   bw = 500,\n#                   ## important\n#                   div = \"bw\",\n#                   method = \"simple\",\n#                   digits = 1,\n#                   tol = 1,\n#                   grid_shape = c(1,1),\n#                   max_depth = 8,\n#                   # aggregate events within 10m radius (faster calculation)\n#                   agg = 10,\n#                   sparse = TRUE,\n#                   verbose = FALSE\n#                   )\n```\n:::\n\n\n## Generate plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# samples$density <- densities\n# lixels$density <- densities\n# \n# samples$density <- samples$density*1000\n# lixels$density <- lixels$density*1000\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# tmap_mode('view')\n# tm_shape(lixels)+\n#   tm_lines(col=\"density\")+\n# tm_shape(crime_data_filtered)+\n#   tm_dots()\n```\n:::\n\n\n# UI design for Analysis\n\n![Storyboard of NKDE](ui_nkde.png){fig-align=\"center\"}\n\nThe user would be able to filter the dataset to see impact different categories on the network-constrained kernel density map created and use the interpretation rules given to derive at a conclusion.\n",
    "supporting": [
      "Take-home_Ex03_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}